<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="/favicon.png"><meta name="generator" content="Astro v5.15.3"><link rel="canonical" href="https://franklin.codes/blog/understanding-the-useeffect-hook-mindset/"><!-- Primary Meta Tags --><title>Understanding the useEffect Hook Mindset | Franklin Farahani</title><meta name="title" content="Understanding the useEffect Hook Mindset | Franklin Farahani"><meta name="description" content="Front-end engineer who builds things for the web."><meta name="author" content="Franklin Farahani"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://franklin.codes/blog/understanding-the-useeffect-hook-mindset/"><meta property="og:title" content="Understanding the useEffect Hook Mindset | Franklin Farahani"><meta property="og:description" content="Front-end engineer who builds things for the web."><meta property="og:image" content="https://franklin.codes/og-image.png"><meta property="og:site_name" content="Franklin Farahani"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://franklin.codes/blog/understanding-the-useeffect-hook-mindset/"><meta property="twitter:title" content="Understanding the useEffect Hook Mindset | Franklin Farahani"><meta property="twitter:description" content="Front-end engineer who builds things for the web."><meta property="twitter:image" content="https://franklin.codes/og-image.png"><meta property="twitter:creator" content="@franklinfarahani"><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="RSS Feed for Franklin Farahani" href="/rss.xml"><!-- View Transitions --><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_assets/ClientRouter.astro_astro_type_script_index_0_lang.elfUsALL.js"></script><script>
  function applyTheme() {
    const theme = localStorage.getItem('theme');

    if (theme === 'dark') {
      // User explicitly chose dark
      document.documentElement.classList.add('dark');
    } else if (theme === 'light') {
      // User explicitly chose light
      document.documentElement.classList.remove('dark');
    } else {
      // No stored preference - check system preference, default to dark if no preference
      if (window.matchMedia('(prefers-color-scheme: light)').matches) {
        document.documentElement.classList.remove('dark');
      } else {
        // Either system prefers dark OR no system preference - default to dark
        document.documentElement.classList.add('dark');
      }
    }
  }

  // Apply theme immediately on initial load
  applyTheme();

  // Apply theme on every page navigation with View Transitions
  document.addEventListener('astro:page-load', applyTheme);
</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_assets/_slug_.CyyqCPa-.css"></head> <body class="bg-almost-white dark:bg-black text-almost-black dark:text-white"> <header class="fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-black/80 backdrop-blur-sm border-b border-lighter-grey dark:border-darkest-grey"> <div class="max-w-screen-xl mx-auto px-4 md:px-6"> <nav class="flex items-center justify-between h-16"> <!-- Logo and Brand --> <a href="/" class="flex items-center text-xl font-bold hover:text-yellow transition-colors"> <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50" class="w-[33px] fill-current mr-4"> <rect width="16.67" height="16.67" opacity="0.34"></rect> <rect x="16.67" width="16.67" height="16.67" opacity="0.67"></rect> <rect x="33.33" width="16.67" height="16.67"></rect> <rect y="16.67" width="16.67" height="16.67" opacity="0.67"></rect> <rect x="16.67" y="16.67" width="16.67" height="16.67"></rect> <rect y="33.33" width="16.67" height="16.67"></rect> </svg> <span>Franklin Farahani</span> </a> <!-- Navigation and Controls --> <div class="flex items-center space-x-6"> <!-- Navigation Links --> <div class="hidden sm:flex items-center space-x-6"> <a href="/blog" class="hover:text-yellow transition-colors"> Blog </a> </div> <!-- Social Links and Theme Switcher --> <div class="flex items-center space-x-4"> <a href="https://twitter.com/franklinscode" target="_blank" rel="noopener noreferrer" class="text-dark-grey hover:text-yellow transition-colors" aria-label="Twitter"> <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor" stroke="none"> <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path> </svg>   </a><a href="https://github.com/franklinfarahani" target="_blank" rel="noopener noreferrer" class="text-dark-grey hover:text-yellow transition-colors" aria-label="GitHub">  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor" stroke="none"> <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path> </svg>  </a><a href="https://linkedin.com/in/franklinfarahani" target="_blank" rel="noopener noreferrer" class="text-dark-grey hover:text-yellow transition-colors" aria-label="LinkedIn">   <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor" stroke="none"> <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path> </svg> </a> <!-- Theme Switcher --> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1x8N4" prefix="r1" component-url="/_assets/ThemeSwitcher.DLsHVrGh.js" component-export="default" renderer-url="/_assets/client.BfPWZUkF.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;ThemeSwitcher&quot;,&quot;value&quot;:true}" await-children><div class="inline-block ml-5"><div class="flex items-center relative h-[33px] w-[60px] rounded-[17px] cursor-pointer" role="button" tabindex="0" aria-label="Switch between light and dark mode" style="box-shadow:inset 0 0 0 2.5px currentColor;background-color:#F2F2F2"><div class="absolute inset-0 overflow-hidden"><div class="rounded-full bg-white absolute" style="width:2px;height:2px;top:11px;left:12px;opacity:0;transform:translateY(10px)"></div><div class="rounded-full bg-white absolute" style="width:1.5px;height:1.5px;top:13px;left:20px;opacity:0;transform:translateY(10px)"></div><div class="rounded-full bg-white absolute" style="width:1px;height:1px;top:20px;left:15px;opacity:0;transform:translateY(10px)"></div><div class="rounded-full bg-white absolute" style="width:2.5px;height:2.5px;top:16px;left:25px;opacity:0;transform:translateY(10px)"></div></div><div class="flex items-center justify-center relative rounded-full w-[23px] h-[23px] overflow-hidden" style="background:radial-gradient(farthest-corner at 66% 33%, #FFC700 0%, #FF9900 70%);transform:translateX(5.5px)"></div></div></div><!--astro:end--></astro-island> </div> </div> </nav> </div> </header> <script type="module">const e=document.getElementById("header");let l=0;window.addEventListener("scroll",()=>{const s=window.pageYOffset;if(s<=0){e?.classList.remove("-translate-y-full"),e?.classList.remove("shadow-md");return}s>l?e?.classList.add("-translate-y-full"):(e?.classList.remove("-translate-y-full"),e?.classList.add("shadow-md")),l=s});</script> <main class="px-8 md:px-12 lg:px-24 py-8 mt-24">  <article class="max-w-[65ch] mx-auto pt-20 pb-32"> <header class="mb-16"> <div class="mb-8 -mx-8 md:-mx-12 lg:-mx-24"> <img src="/_assets/useeffect-hook.CZTnkaf0_1vdTyJ.webp" alt="Understanding the useEffect Hook Mindset" loading="eager" decoding="async" fetchpriority="auto" width="1200" height="630" class="w-full h-64 md:h-80 lg:h-96 object-cover rounded-lg"> </div> <h1 class="text-4xl sm:text-5xl font-bold leading-tight mb-4"> Understanding the useEffect Hook Mindset </h1> <p class="text-xl text-dark-grey dark:text-light-grey mb-6"> The trick to understanding useEffect is to figure out what your side effect should be &quot;synced&quot; with, rather than &quot;when&quot; it is happening. </p> <div class="flex flex-wrap items-center text-sm text-grey dark:text-darker-grey mb-6"> <time datetime="2019-07-06T00:00:00.000Z"> July 5, 2019 </time>   </div> <div class="flex flex-wrap"> <span class="inline-block px-1.5 py-0.5 mr-1.5 mb-1.5 text-[0.75em] font-bold uppercase bg-lighter-grey text-dark-grey dark:bg-darkest-grey dark:text-light-grey rounded"> Hooks </span><span class="inline-block px-1.5 py-0.5 mr-1.5 mb-1.5 text-[0.75em] font-bold uppercase bg-lighter-grey text-dark-grey dark:bg-darkest-grey dark:text-light-grey rounded"> React </span> </div> </header> <div class="prose prose-lg">  <h2 id="introduction">Introduction</h2>
<p>React Hooks feel like magic to React users who are used to the classic lifecycle methods. They provide some niceties that are really appreciated, such as allowing you to share and reuse complex logic, making writing components more intuitive, and shortening the overall amount of code you need to write to achieve similar effects. However, just like the lifecycle methods [of old!], hooks have their own intricacies and gotchas that need to be understood. Here I discuss the <code>useEffect</code> hook and try to explain it in a way that can help you navigate the general challenges you might face.</p>
<h2 id="the-syntax">The syntax</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#B392F0">useEffect</span><span style="color:#E1E4E8">(effect, dependencies)</span></span>
<span class="line"><span style="color:#6A737D">// accepts an effect and an optional dependency list</span></span></code></pre>
<p>The <code>useEffect</code> hook’s purpose is to deal with all of the side effects of your React component. In React terms, this refers to any changes that need to happen <strong>besides</strong> the general return value presentation of the component. Some examples of side effects are network calls, logging, or manually changing the DOM.</p>
<p>It is also the equivalent of the old lifecycle hooks <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code> combined.</p>
<p>As you might know, sharing similar logic between lifecycle methods is a very common occurrence in the React component ecosystem. Let’s take a look at an example taken from the
<a href="https://reactjs.org/docs/hooks-effect.html#example-using-classes">official docs</a>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Example</span><span style="color:#F97583"> extends</span><span style="color:#B392F0"> React</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">Component</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  constructor</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">props</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#79B8FF">    super</span><span style="color:#E1E4E8">(props);</span></span>
<span class="line"><span style="color:#79B8FF">    this</span><span style="color:#E1E4E8">.state </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">      count: </span><span style="color:#79B8FF">0</span></span>
<span class="line"><span style="color:#E1E4E8">    };</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">  componentDidMount</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    document.title </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> `You clicked ${</span><span style="color:#79B8FF">this</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">state</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">count</span><span style="color:#9ECBFF">} times`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">  componentDidUpdate</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">    document.title </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> `You clicked ${</span><span style="color:#79B8FF">this</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">state</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">count</span><span style="color:#9ECBFF">} times`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">  render</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#E1E4E8">      &#x3C;</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">>You clicked {</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.state.count} times&#x3C;/</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;</span><span style="color:#85E89D">button</span><span style="color:#B392F0"> onClick</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{() </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">setState</span><span style="color:#E1E4E8">({ count: </span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.state.count </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8"> })}></span></span>
<span class="line"><span style="color:#E1E4E8">          Click me</span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;/</span><span style="color:#85E89D">button</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">      &#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    );</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>This is practically the same code, because in this particular case we don’t care about <strong>when</strong> the effect should occur, but rather that it occurs for <em>every</em> render of our component.</p>
<p>Let’s look at the same component, this time using <code>useEffect</code>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> React, { useState, useEffect } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> 'react'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> Example</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">count</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">setCount</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#B392F0"> useState</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">  useEffect</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    document.title </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> `You clicked ${</span><span style="color:#E1E4E8">count</span><span style="color:#9ECBFF">} times`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">      &#x3C;</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">>You clicked {count} times&#x3C;/</span><span style="color:#85E89D">p</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">      &#x3C;</span><span style="color:#85E89D">button</span><span style="color:#B392F0"> onClick</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{() </span><span style="color:#F97583">=></span><span style="color:#B392F0"> setCount</span><span style="color:#E1E4E8">(count </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">)}></span></span>
<span class="line"><span style="color:#E1E4E8">        Click me</span></span>
<span class="line"><span style="color:#E1E4E8">      &#x3C;/</span><span style="color:#85E89D">button</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  );</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Here <code>useEffect</code> is doing precisely what we intended in the first place, which is doing <em>something</em> after every render <strong>including the first one</strong>.</p>
<h2 id="the-dependency-list">The Dependency List</h2>
<p>What if we wanted to run the effect exactly once, similar to <code>componentDidMount</code>? Let’s say we have a fade-in animation for a component and we only want the animation to play when the component first mounts. What if we wanted it to play every time the component comes into view? How do we go about doing that?</p>
<p>That’s when the second argument of <code>useEffect</code> comes in. The <strong>dependency list</strong> tells <code>useEffect</code> what changes or triggers we want to attach our effect to. Let’s look at our second case, meaning every time the components comes into view:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#B392F0">useEffect</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">  // assuming 'isInView' is the state variable </span></span>
<span class="line"><span style="color:#6A737D">  // that denotes whether the component is in view</span></span>
<span class="line"><span style="color:#6A737D">  // ...</span></span>
<span class="line"><span style="color:#6A737D">  // fadeIn() effect</span></span>
<span class="line"><span style="color:#E1E4E8">}, [isInView])</span></span></code></pre>
<p>This is telling <code>useEffect</code> to play our effect after every re-render that involves <code>isInView</code> updating. We can achieve our first case goal (which is playing the animation only once after the first render), by leaving the array empty. This indicates that the effect should not be attached to any changes.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#B392F0">useEffect</span><span style="color:#E1E4E8">(() </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D">  // assuming 'isInView' is the state variable </span></span>
<span class="line"><span style="color:#6A737D">  // that denotes whether the component is in view</span></span>
<span class="line"><span style="color:#6A737D">  // ...</span></span>
<span class="line"><span style="color:#6A737D">  // fadeIn() effect</span></span>
<span class="line"><span style="color:#E1E4E8">}, [])</span></span></code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>The main thing to understand with <code>useEffect</code> is that it requires a different mindset to the lifecycle method. Previously, side effects were handled by picking the right lifecycle method that revolved around timing. With <code>useEffect</code>, we think about side effects in terms of synchronization to state variables. A great way to neatly summarize this idea comes to you via a tweet by <a href="https://twitter.com/ryanflorence">@ryanflorence</a>:</p>
<p><a href="https://twitter.com/ryanflorence/status/1125041041063665666">https://twitter.com/ryanflorence/status/1125041041063665666</a></p>
<p>Thank you for taking the time to read! Let me know if you have any questions.</p>  </div> <div class="mt-16"> <aside class="flex items-start mb-16 sm:flex-col"> <div class="flex-shrink-0 mr-8 sm:mb-4 sm:mr-0"> <img src="https://github.com/franklinfarahani.png" alt="Franklin Farahani" class="w-24 h-24 rounded-full" width="96" height="96"> </div> <div> <h3 class="text-xl font-bold mb-2">
Franklin Farahani
</h3> <p class="text-dark-grey dark:text-light-grey mb-4">
Front-end engineer who builds things for the web. I help brands connect with their customers through good design, engaging user experience, and clean code.
</p> <div class="flex space-x-4"> <a href="https://twitter.com/franklinfarahani" target="_blank" rel="noopener noreferrer" class="text-grey hover:text-yellow transition-colors" title="Twitter"> <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"> <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path> </svg> </a> <a href="https://github.com/franklinfarahani" target="_blank" rel="noopener noreferrer" class="text-grey hover:text-yellow transition-colors" title="GitHub"> <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg> </a> <a href="https://linkedin.com/in/franklinfarahani" target="_blank" rel="noopener noreferrer" class="text-grey hover:text-yellow transition-colors" title="LinkedIn"> <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"> <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path> </svg> </a> </div> </div> </aside> </div> </article>  </main> <footer class="max-w-[1000px] mx-auto px-24 py-10 flex items-center justify-between text-[0.875em] md:px-8 sm:px-5 sm:flex-col sm:items-start"> <span>
Built with <a href="https://astro.build" target="_blank" rel="noopener" class="border-b-2 border-yellow hover:text-grey dark:hover:text-light-grey transition-colors">
Astro
</a> </span> <span class="sm:my-4">© 2025 Franklin Farahani. All Rights Reserved.</span> <ul class="flex items-center space-x-8 md:space-x-5"> <li> <a href="https://twitter.com/franklinfarahani" title="Follow @franklinfarahani on Twitter" target="_blank" rel="noopener" class="hover:text-yellow transition-transform hover:scale-110 inline-block"> <svg class="w-[22px] h-[22px]" viewBox="0 0 24 24" fill="currentColor"> <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path> </svg> </a> </li> <li> <a href="https://github.com/franklinfarahani" title="Github Profile" target="_blank" rel="noopener" class="hover:text-yellow transition-transform hover:scale-110 inline-block"> <svg class="w-[22px] h-[22px]" viewBox="0 0 24 24" fill="currentColor"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg> </a> </li> <li> <a href="https://linkedin.com/in/franklinfarahani" title="LinkedIn Profile" target="_blank" rel="noopener" class="hover:text-yellow transition-transform hover:scale-110 inline-block"> <svg class="w-[22px] h-[22px]" viewBox="0 0 24 24" fill="currentColor"> <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path> </svg> </a> </li> </ul> <a href="#header" class="flex items-center hover:text-yellow transition-colors sm:mt-4"> <svg class="w-3 h-3 mr-2" viewBox="0 0 320 512" fill="currentColor"> <path d="M279.14 288l-92.68-92.68a15.54 15.54 0 0 0-22.04 0l-92.68 92.68c-6.24 6.24-6.24 16.38 0 22.62l22.62 22.62c6.24 6.24 16.38 6.24 22.62 0L184 266.51l66.02 66.02c6.24 6.24 16.38 6.24 22.62 0l22.62-22.62c6.24-6.24 6.24-16.38 0-22.91z"></path> </svg>
Back to Top
</a> </footer> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector('a[href="#header"]');e&&e.addEventListener("click",t=>{t.preventDefault();const o=document.getElementById("header");o?o.scrollIntoView({behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})})});</script>  </body> </html>